(function(e){function t(t){for(var r,a,s=t[0],c=t[1],l=t[2],d=0,f=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={app:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/Mwerkzeug/vue/vbe/dist/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0554":function(e,t,n){var r=n("96a4");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("17611838",r,!0,{sourceMap:!1,shadowMode:!1})},"51a4":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".modal button.delete{height:40px;max-height:40px;max-width:40px;min-height:40px;min-width:40px;width:40px}",""]),e.exports=t},"5c0b":function(e,t,n){"use strict";var r=n("0554"),i=n.n(r);i.a},"7ba4":function(e,t,n){var r=n("51a4");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("6c7c897e",r,!0,{sourceMap:!1,shadowMode:!1})},"96a4":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".vbe{font-size:inherit}",""]),e.exports=t},"9fa1":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".vbe-imgfolder .vbe-imglist{margin-top:3rem}.vbe-imgfolder .vbe-imglist .is-hidden{opacity:.356}",""]),e.exports=t},b2df:function(e,t,n){var r=n("9fa1");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("5ade2a1e",r,!0,{sourceMap:!1,shadowMode:!1})},c979:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".vue-dropzone .fa-cloud-upload{font-size:4em;display:block}.vue-dropzone .dz-preview .dz-error-mark,.vue-dropzone .dz-preview .dz-success-mark{text-align:center}.vue-dropzone .dz-preview .dz-error-mark i.fa{color:#e74c05!important}.vue-dropzone .dz-preview .dz-success-mark i.fa{color:#54af2e!important}.vue-dropzone .dz-fallback{display:none}",""]),e.exports=t},c97e:function(e,t,n){"use strict";var r=n("7ba4"),i=n.n(r);i.a},cd49:function(e,t,n){"use strict";n.r(t),n.d(t,"camelize",(function(){return ye}));var r={};n.r(r),n.d(r,"extconf",(function(){return W})),n.d(r,"backendBaseUrl",(function(){return H}));var i={};n.r(i),n.d(i,"mutateCounter",(function(){return Q})),n.d(i,"setCurrentProductId",(function(){return X})),n.d(i,"setProducts",(function(){return Y})),n.d(i,"setCartCount",(function(){return ee}));var o={};n.r(o),n.d(o,"allFiles",(function(){return ne}));var a={};n.r(a),n.d(a,"allFiles",(function(){return oe})),n.d(a,"removeFiles",(function(){return ae})),n.d(a,"hideFiles",(function(){return se})),n.d(a,"unhideFiles",(function(){return ce}));var s={};n.r(s),n.d(s,"setAllFiles",(function(){return le}));n("a630"),n("13d5"),n("b0c0"),n("ac1f"),n("3ca3"),n("5319");var c=n("ade3"),l=n("5530"),u=n("b85c"),d=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("a026")),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vbe"},[n("router-view")],1)},p=[],h=d["a"].extend({name:"App",components:{},computed:{},mounted:function(){this.$router.push({name:this.$parent.tagName})},methods:{go:function(e){console.log("#logGO",e),this.$router.push(e)}}}),m=h,b=(n("5c0b"),n("2877")),g=Object(b["a"])(m,f,p,!1,null,null,null),v=g.exports,w=n("8c4f"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"vbe-imgfolder"},[n("Upload",{attrs:{"upload-url":e.upload_url,"mwfile-path":e.path,"button-text":e.buttonText}}),n("table",{staticClass:"table table-bordered table-striped taggable-items vbe-imglist"},[n("thead",[n("tr",[n("th",{on:{click:function(t){return e.toggleAll()}}},[n("input",{staticClass:"taggable-toggle",attrs:{type:"checkbox",name:"taggable_toggle"},domProps:{checked:e.isAllSelected}})]),n("th",[e._v("Img")]),n("th",[e._v("Title")]),n("th")])]),n("tbody",e._l(e.files,(function(t){return n("tr",{key:t.id,staticClass:"js-sortable-tr",class:{"is-hidden":t.hidden}},[n("td",{staticClass:"taggable-cb-td",on:{click:function(n){return e.toggle(t.id)}}},[n("input",{staticClass:"taggable-cb",attrs:{type:"checkbox",value:"MwFile-$ID"},domProps:{checked:e.isChecked(t.id)}})]),n("td",[n("img",{attrs:{src:t.thumbnail_url},on:{click:function(n){return e.toggle(t.id)}}})]),n("td",[e._v(" "+e._s(t.name)+" ")]),e._m(0,!0)])})),0)]),e.isMinimumOneSelected?n("div",[n("button",{staticClass:"btn ",attrs:{type:"button"},on:{click:function(t){return e.removeSelected()}}},[n("i",{staticClass:"fa fa-trash-o"}),e._v(" alle markierten Bilder löschen")]),n("button",{staticClass:"btn ",attrs:{type:"button"},on:{click:function(t){return e.hideSelected()}}},[n("i",{staticClass:"fa fa-trash-o"}),e._v(" alle markierten Bilder sperren")]),n("button",{staticClass:"btn ",attrs:{type:"button"},on:{click:function(t){return e.unhideSelected()}}},[n("i",{staticClass:"fa fa-trash-o"}),e._v(" alle markierten Bilder entsperren")])]):e._e()],1)])},x=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",{staticClass:"js-sortable-handle"},[n("i",{staticClass:"fa fa-bars fa-lg"})])}],k=(n("caad"),n("d81d"),n("2532"),n("fb6a"),n("d3b7"),n("25f0"),n("1276"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-notification",{attrs:{type:e.data.class,closable:!0},on:{close:function(t){return e.$parent.close()}}},[e._v(" "+e._s(e.data.text)+" ")])}),F=[],_=d["a"].extend({props:{data:{type:Object,required:!0}}}),C=_,O=(n("c97e"),Object(b["a"])(C,k,F,!1,null,null,null)),z=O.exports,M=n("b17e"),S=function(e){var t=[];if((e||{}).data){var n=e.data;(n||{}).errors&&M.map((function(e){"string"===typeof e||e instanceof String?t.push({type:"modal",title:"Error",class:"is-danger",text:e}):t.push({type:"snackbar",class:"is-danger",text:e[0]})}),n.errors),(n||{}).message&&t.push({type:"toast",class:"is-danger",text:e.message})}else t.push({type:"toast",class:"is-warning",text:"error while sending request"});return t.length?t:null},I=function(e,t){null!==t&&t.map((function(t){"toast"==t.type?e.$toast.open({duration:3e3,message:t.text,type:t.class,position:"is-top",queue:!1}):"snackbar"===t.type?e.$snackbar.open({message:t.text,type:t.class,position:"is-top",actionText:"ok",indefinite:!0,queue:!0}):"modal"===t.type&&e.$modal.open({parent:e,component:z,hasModalCard:!0,props:{data:t},canCancel:["outside","escape"]})}))},j=function(e,t){console.log("#handleErrorsFromResponse",t),I(e,S(t))},$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"dropzone",options:e.dropzoneOptions}})],1)},A=[],B=n("92c3"),P=n.n(B),D=(n("1e3f"),d["a"].extend({name:"Upload",components:{vueDropzone:P.a},data:function(){var e={dictDefaultMessage:"<span class='btn btn-primary'>".concat(this.buttonText,"</span>"),dictFallbackMessage:"der Foto-Upload funktioniert leider nicht mit deiner Browser-Version, Bitte verwende einen aktuelleren Browser.",dictFallbackText:"",dictFileTooBig:"Die Datei ist zu groß ({{filesize}}MiB). Maximale Dateigröße: {{maxFilesize}}MiB.",dictInvalidFileType:"Du kannst leider nur Bilder im JPG Format hochladen",dictResponseError:"Server reagiert mit {{statusCode}} code.",dictCancelUpload:"Upload abbrechen",dictCancelUploadConfirmation:"Bist Du sicher, dass Du diesen Upload abbrechen möchtest?",dictRemoveFile:"Bild löschen",dictMaxFilesExceeded:"Du kannst nur insgesamt 100 Bilder hochladen"};return{dropZoneIsActive:!0,dropzoneOptions:Object(l["a"])({url:this.uploadUrl,thumbnailWidth:160,maxFilesize:10,headers:{"mwfile-path":this.mwfilePath}},e)}},props:{uploadUrl:{type:String,required:!0},mwfilePath:{type:String,required:!0},buttonText:{type:String,required:!0}},computed:{},methods:{onSuccess:function(e){var t=JSON.parse(e.xhr.responseText);e.localFilename=t.file,this.$store.commit("addFoto",t)},onRemovedFile:function(e){this.dropZoneIsActive&&(console.log("remove file",e),this.$store.commit("removeFoto",e.localFilename))}},created:function(){this.dropZoneIsActive=!0},beforeDestroy:function(){this.dropZoneIsActive=!1,console.log("before Destroy",null)}})),U=D,T=(n("f463"),Object(b["a"])(U,$,A,!1,null,null,null)),q=T.exports,E=n("b17e"),G=d["a"].extend({name:"ImgFolder",data:function(){return{waiting:0,checkedFileIds:[]}},props:{path:{type:String,required:!0},buttonText:{type:String,required:!1,default:"Upload Files..."}},components:{Upload:q},methods:{isChecked:function(e){return E.includes(e,this.checkedFileIds)},toggle:function(e){this.isChecked(e)?this.checkedFileIds=E.without([e],this.checkedFileIds):this.checkedFileIds.push(e)},toggleAll:function(e){this.checkedFileIds.length>0?this.checkedFileIds=[]:this.checkedFileIds=E.map((function(e){return e.id}),this.files)},fetchData:function(){var e=this;this.waiting++,this.$store.dispatch("imgfolder/allFiles",{path:this.path}).then((function(t){e.waiting--})).catch((function(t){console.error(t),j(e,t),e.waiting--}))},removeSelected:function(){var e=this;confirm("Sind sie sicher ?")&&(this.waiting++,this.$store.dispatch("imgfolder/removeFiles",{path:this.path,file_ids:this.checkedFileIds}).then((function(t){e.waiting--,e.fetchData()})).catch((function(t){console.error(t),j(e,t),e.waiting--})))},hideSelected:function(){var e=this;this.waiting++,this.$store.dispatch("imgfolder/hideFiles",{path:this.path,file_ids:this.checkedFileIds}).then((function(t){e.waiting--,e.fetchData()})).catch((function(t){console.error(t),j(e,t),e.waiting--}))},unhideSelected:function(){var e=this;this.waiting++,this.$store.dispatch("imgfolder/unhideFiles",{path:this.path,file_ids:this.checkedFileIds}).then((function(t){e.waiting--,e.fetchData()})).catch((function(t){console.error(t),j(e,t),e.waiting--}))}},computed:{isAllSelected:function(){return this.checkedFileIds.length==this.files.length},isMinimumOneSelected:function(){return this.checkedFileIds.length>0},files:function(){return this.$store.getters["imgfolder/allFiles"]},upload_url:function(){return this.$store.getters.backendBaseUrl+"/MwFile/receiveDropzoneFile"}},mounted:function(){this.fetchData()}}),N=G,J=(n("f9df"),Object(b["a"])(N,y,x,!1,null,null,null)),R=J.exports,Z=function(e){return new w["a"]({linkActiveClass:"is-active",mode:"abstract",routes:[{path:"/imgfolder",component:R,name:"vbe-imgfolder",props:e}]})},V=Z,L=n("2f62"),W=function(e){return e.extconf},H=function(e){return e.extconf.backendBaseUrl},K=n("fc60"),Q=function(e,t){e.counter=e.counter+t},X=function(e,t){e.currentProductId=t},Y=function(e,t){e.products=t},ee=function(e,t){e.cartCount=t},te=n("9fdd"),ne=function(e){return e.allFiles},re=n("bc3a"),ie=n.n(re),oe=function(e){var t=e.commit,n=e.rootGetters,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t("setAllFiles",[]),new Promise((function(e,i){ie.a.get(n["backendBaseUrl"]+"/MwFile_Api/get_files",{params:r}).then((function(n){t("setAllFiles",n.data.payload),e(n)})).catch((function(e){console.error(e),i(e.response)}))}))},ae=function(e,t){e.commit;var n=e.rootGetters;return new Promise((function(e,r){ie.a.post(n["backendBaseUrl"]+"/MwFile_Api/remove_files",t).then((function(t){e(t)})).catch((function(e){console.error(e),r(e.response)}))}))},se=function(e,t){e.commit;var n=e.rootGetters;return new Promise((function(e,r){ie.a.post(n["backendBaseUrl"]+"/MwFile_Api/hide_files",t).then((function(t){e(t)})).catch((function(e){console.error(e),r(e.response)}))}))},ce=function(e,t){e.commit;var n=e.rootGetters;return new Promise((function(e,r){ie.a.post(n["backendBaseUrl"]+"/MwFile_Api/unhide_files",t).then((function(t){e(t)})).catch((function(e){console.error(e),r(e.response)}))}))},le=function(e,t){e.allFiles=t},ue={allFiles:[]},de={namespaced:!0,state:function(){return te["a"](ue)},getters:o,actions:a,mutations:s},fe={debug:!0,counter:0,currentProductId:0,activeImageIndex:0,images:[],products:[],extconf:window.vbeAppConf,cartCount:null};d["a"].use(L["a"]);var pe=new L["a"].Store({state:te["a"](fe),getters:r,actions:K,mutations:i,modules:{imgfolder:de},strict:!0}),he=pe,me=n("b17e");d["a"].config.productionTip=!1,d["a"].use(w["a"]);var be=".vueapp-vbe",ge=Array.from(document.querySelectorAll(be)),ve=[],we=/-(\w)/g,ye=function(e){return e.replace(we,(function(e,t){return t?t.toUpperCase():""}))};if(ge.length>0){var xe,ke=Object(u["a"])(ge);try{for(ke.s();!(xe=ke.n()).done;){var Fe,_e=xe.value,Ce=me.reduce((function(e,t){return Object(l["a"])(Object(l["a"])({},e),{},Object(c["a"])({},ye(t.name),t.value))}),{})(_e.attributes),Oe=[],ze=Object(u["a"])(_e.children);try{for(ze.s();!(Fe=ze.n()).done;){var Me=Fe.value;Oe.push(me.reduce((function(e,t){return Object(l["a"])(Object(l["a"])({},e),{},Object(c["a"])({},t.name,t.value))}),{})(Me.attributes))}}catch(Ie){ze.e(Ie)}finally{ze.f()}Ce.childNodes=Oe;var Se=new d["a"]({render:function(e){return e(v)},el:_e,data:{tagName:null,attributes:{}},beforeMount:function(){this.tagName=this.$el.tagName.toLowerCase()},router:V(Ce),store:he});ve.push(Se)}}catch(Ie){ke.e(Ie)}finally{ke.f()}}},d530:function(e,t,n){var r=n("c979");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("73e809ea",r,!0,{sourceMap:!1,shadowMode:!1})},f463:function(e,t,n){"use strict";var r=n("d530"),i=n.n(r);i.a},f9df:function(e,t,n){"use strict";var r=n("b2df"),i=n.n(r);i.a},fc60:function(e,t){}});
//# sourceMappingURL=app.83141137.js.map